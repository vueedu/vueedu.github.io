(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{640:function(e,t,o){"use strict";var r=o(1742),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var o,l,a,i,u,s,c,d,f=!1;t||(t={}),a=t.debug||!1;try{if(u=r(),s=document.createRange(),c=document.getSelection(),(d=document.createElement("span")).textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(o){if(o.stopPropagation(),t.format){if(o.preventDefault(),void 0===o.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=n[t.format]||n.default;window.clipboardData.setData(r,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e)}t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))}),document.body.appendChild(d),s.selectNodeContents(d),c.addRange(s),!document.execCommand("copy"))throw Error("copy command was unsuccessful");f=!0}catch(r){a&&console.error("unable to copy using execCommand: ",r),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(r){a&&console.error("unable to copy using clipboardData: ",r),a&&console.error("falling back to prompt"),o="message"in t?t.message:"Copy to clipboard: #{key}, Enter",l=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",i=o.replace(/#{\s*key\s*}/g,l),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),d&&document.body.removeChild(d),u()}return f}},7515:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[id]/replay/[replayId]",function(){return o(4364)}])},4564:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suspense=function(){let e=Error(r.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=r.NEXT_DYNAMIC_NO_SSR_CODE,e},t.NoSSR=function(e){let{children:t}=e;return t},(0,o(2648).Z)(o(7294));var r=o(2983)},7645:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let o=l.default,n={loading:e=>{let{error:t,isLoading:o,pastDelay:r}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n=r({},n,e)),n=r({},n,t);let i=n.loader,u=()=>null!=i?i().then(a):Promise.resolve(a(()=>null));return n.loadableGenerated&&delete(n=r({},n,n.loadableGenerated)).loadableGenerated,"boolean"!=typeof n.ssr||n.ssr||(delete n.webpack,delete n.modules),o(r({},n,{loader:u}))};var r=o(6495).Z,n=o(2648).Z;n(o(7294));var l=n(o(4588));function a(e){return{default:(null==e?void 0:e.default)||e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,o(2648).Z)(o(7294));let n=r.default.createContext(null);t.LoadableContext=n},4588:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(932).Z,n=o(6495).Z,l=(0,o(2648).Z)(o(7294)),a=o(4564),i=o(3644);let u=[],s=[],c=!1;function d(e){let t=e(),o={loading:!0,loaded:null,error:null};return o.promise=t.then(e=>(o.loading=!1,o.loaded=e,e)).catch(e=>{throw o.loading=!1,o.error=e,e}),o}class f{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=n({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function p(e){return function(e,t){let o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,ssr:!0},t),n=null;function u(){if(!n){let t=new f(e,o);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if(o.lazy=l.default.lazy(r(function*(){if(o.ssr&&n){let e=n.getCurrentValue(),t=yield e.loaded;if(t)return t}return yield o.loader()})),!c){let e=o.webpack?o.webpack():o.modules;e&&s.push(t=>{for(let o of e)if(-1!==t.indexOf(o))return u()})}function d(e){!function(){u();let e=l.default.useContext(i.LoadableContext);e&&Array.isArray(o.modules)&&o.modules.forEach(t=>{e(t)})}();let t=o.loading,r=l.default.createElement(t,{isLoading:!0,pastDelay:!0,error:null}),n=o.ssr?l.default.Fragment:a.NoSSR,s=o.lazy;return l.default.createElement(l.default.Suspense,{fallback:r},l.default.createElement(n,null,l.default.createElement(s,Object.assign({},e))))}return d.preload=()=>u(),d.displayName="LoadableComponent",d}(d,e)}function y(e,t){let o=[];for(;e.length;){let r=e.pop();o.push(r(t))}return Promise.all(o).then(()=>{if(e.length)return y(e,t)})}p.preloadAll=()=>new Promise((e,t)=>{y(u).then(e,t)}),p.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let o=()=>(c=!0,t());y(s,e).then(o,o)})},window.__NEXT_PRELOADREADY=p.preloadReady,t.default=p},4364:function(e,t,o){"use strict";o.r(t);var r=o(5893),n=o(1534),l=o(3817),a=o(7939),i=o(3097),u=o(6486),s=o(1163),c=o(7294),d=o(4855),f=o(5152),p=o.n(f);let y=p()(Promise.all([o.e(382),o.e(617)]).then(o.bind(o,7617)),{loadableGenerated:{webpack:()=>[7617]},ssr:!1});t.default=function(){let e=(0,s.useRouter)(),{id:t,replayId:o}=e.query,[f,p]=(0,c.useState)(),[b,h]=(0,c.useState)(""),m=(0,c.useCallback)(async()=>{let e=await (0,n.Rj)((null==t?void 0:t.toString())||""),r=(0,u.find)(e,e=>{let{id:t}=e;return"".concat(t)===o});p(r),h(window.location.href)},[t]);return(0,c.useEffect)(()=>{m()},[m]),(0,r.jsxs)("div",{className:"video-replay-modal",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("div",{className:"title",children:null==f?void 0:f.className}),(0,r.jsxs)("div",{className:"actions",children:[(0,r.jsx)(a.Z,{title:"复制链接",children:(0,r.jsx)(d.CopyToClipboard,{text:b,onCopy:()=>{i.ZP.success("复制成功!")},children:(0,r.jsx)(l.Z,{symbol:"icon-share"})})}),(0,r.jsx)(a.Z,{title:"返回课程",children:(0,r.jsx)(l.Z,{symbol:"icon-fanhui",onClick:()=>e.push("/course/".concat(t))})})]})]}),(0,r.jsx)("div",{className:"video-replay-content",children:(0,r.jsx)(y,{replay:f})})]})}},5152:function(e,t,o){e.exports=o(7645)},4300:function(e,t,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=i(o(7294)),l=i(o(640)),a=["text","onCopy","options","children"];function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach(function(t){y(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(b,e);var t,o,i,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=p(b);if(t){var n=p(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function b(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,b);for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return y(f(e=u.call.apply(u,[this].concat(o))),"onClick",function(t){var o=e.props,r=o.text,a=o.onCopy,i=o.children,u=o.options,s=n.default.Children.only(i),c=(0,l.default)(r,u);a&&a(r,c),s&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t)}),e}return o=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),o=function(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)o=l[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)o=l[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}(e,a),r=n.default.Children.only(t);return n.default.cloneElement(r,s(s({},o),{},{onClick:this.onClick}))}}],c(b.prototype,o),i&&c(b,i),Object.defineProperty(b,"prototype",{writable:!1}),b}(n.default.PureComponent);t.CopyToClipboard=b,y(b,"defaultProps",{onCopy:void 0,options:void 0})},4855:function(e,t,o){"use strict";var r=o(4300).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},1742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],r=0;r<e.rangeCount;r++)o.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7515)}),_N_E=e.O()}]);