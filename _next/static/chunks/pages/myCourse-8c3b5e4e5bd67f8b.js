(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{1169:function(s,e,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/myCourse",function(){return c(269)}])},4795:function(s,e,c){"use strict";c.d(e,{Nu:function(){return d},bZ:function(){return l}});var t,l,r=c(5893),i=c(7294),n=c(6170),o=c(3817),a=c(1664),u=c.n(a);(t=l||(l={})).LIST="LIST",t.GRID="GRID";let d="course-layout-type",m=s=>{let{courses:e}=s;(0,i.useRef)({popularCourses:!1,allCourses:!1});let[c,t]=(0,i.useState)(l.LIST);if(!e)return(0,r.jsx)(n.Z,{});let a=c===l.GRID,m=()=>{let s=a?l.LIST:l.GRID;t(s),localStorage.setItem(d,s)};return(0,r.jsxs)("div",{className:"course-list ".concat(a?"course-list-layout-grid":"course-list-layout-list"),children:[(0,r.jsx)("span",{className:"layout-icon",onClick:m,children:(0,r.jsx)(o.Z,{symbol:a?"icon-listgrid":"icon-list"})}),e.map(s=>(0,r.jsxs)(u(),{className:"course-item",href:"/course/".concat(s.courseId),children:[(0,r.jsx)("img",{className:"course-item-cover",src:s.coverUrl,alt:"coverUrl"}),(0,r.jsxs)("div",{className:"course-item-content",children:[(0,r.jsxs)("div",{className:"course-item-info",children:[(0,r.jsx)("div",{className:"info-title",children:s.title}),(0,r.jsx)("div",{className:"summary",children:s.summary})]}),(0,r.jsxs)("footer",{children:[(0,r.jsxs)("span",{className:"apply-num",children:[(0,r.jsx)("span",{className:"apply-num-person",children:s.applyCount})," ","人报名学习"]}),(0,r.jsx)("span",{className:"apply-price",children:"\xa5"+s.price})]})]})]},s.id))]})};e.ZP=m},6170:function(s,e,c){"use strict";var t=c(5893),l=c(1382);let r=s=>(0,t.jsx)("div",{className:"loading-container",children:(0,t.jsx)(l.Z,{tip:"数据加载中...",size:"small",...s})});e.Z=r},269:function(s,e,c){"use strict";c.r(e),c.d(e,{default:function(){return h}});var t=c(5893),l=c(1534),r=c(7277),i=c(4795),n=c(3817),o=c(6170),a=c(7789),u=c(6486),d=c(1163),m=c(7294);function h(){let s=(0,a.o)(),[e,c]=(0,m.useState)([]),[h,p]=(0,m.useState)(),[x,j]=(0,m.useState)(""),N=s.user.currentUser,v=s.myRegisters.myRegisters||[],f=(0,d.useRouter)(),y=(0,m.useCallback)(async()=>{if(null==N?void 0:N.phone){let{courseList:s,totalNum:e}=await (0,l.oY)(null==N?void 0:N.phone);c(s),p(e)}},[null==N?void 0:N.phone]);(0,m.useEffect)(()=>{y()},[y]),(0,m.useEffect)(()=>{j(localStorage.getItem(i.Nu)||i.bZ.LIST)},[]),(0,m.useEffect)(()=>{N.phone||f.push("/")},[N.phone]);let I=x===i.bZ.GRID,g=()=>{let s=I?i.bZ.LIST:i.bZ.GRID;j(s),localStorage.setItem(i.Nu,s)};return(0,t.jsxs)("div",{className:"mycourse-list-wrapper",children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("div",{className:"title",children:"我的课程"}),(0,t.jsxs)("div",{className:"totol-register-count",children:["共报名课程: ",(0,t.jsx)("strong",{children:h})]})]}),void 0===h?(0,t.jsx)(o.Z,{}):(0,t.jsxs)("div",{className:"mycourse-list ".concat(I?"mycourse-list-layout-grid":"mycourse-list-layout-list"),children:[(0,t.jsx)("span",{className:"layout-icon",onClick:g,children:(0,t.jsx)(n.Z,{symbol:I?"icon-listgrid":"icon-list"})}),(0,u.map)(e,(s,e)=>(0,t.jsxs)("div",{className:"course-item",onClick:()=>f.push("/course/".concat(s.courseId)),children:[(0,t.jsx)("img",{className:"course-item-cover",src:s.coverUrl,alt:"cover"}),(0,t.jsxs)("div",{className:"course-item-content",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:s.title}),(0,t.jsx)("div",{className:"summary",children:s.summary})]}),(0,t.jsxs)("div",{className:"room",children:[(0,t.jsxs)("span",{children:[" 教室号: ",s.roomId," "]}),(0,t.jsx)("button",{className:"btn enter-class-btn",onClick:e=>{e.stopPropagation(),r.c.course.enterCourse(s,v)},children:"进入课堂"})]})]})]},s.id+s.courseIndex+s.title+e))]})]})}}},function(s){s.O(0,[382,774,888,179],function(){return s(s.s=1169)}),_N_E=s.O()}]);